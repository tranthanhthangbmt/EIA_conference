Ch√†o b·∫°n, t√¥i ƒë√£ ph√¢n t√≠ch m√£ ngu·ªìn EIA_conference_v3B. Hi·ªán t·∫°i, ph·∫ßn hi·ªÉn th·ªã c·∫£m x√∫c (Emoji) c·ªßa b·∫°n ƒëang d·ª´ng l·∫°i ·ªü m·ª©c "Trang tr√≠" (Decorative) h∆°n l√† "Khoa h·ªçc" (Scientific).ƒê·ªÉ ƒë·∫°t chu·∫©n b√†i b√°o Q1 v·ªÅ Human-Centric AI, vi·ªác hi·ªÉn th·ªã c·∫£m x√∫c kh√¥ng ch·ªâ l√† hi·ªán ra m·ªôt c√°i m·∫∑t c∆∞·ªùi hay m·∫øu. B·∫°n c·∫ßn ch·ª©ng minh ƒë∆∞·ª£c M·ªëi quan h·ªá Nh√¢n qu·∫£ (Causal Link):T·∫°i sao c·∫£m x√∫c l·∫°i thay ƒë·ªïi? (Do Energy t·ª•t hay do b√†i qu√° kh√≥?)C·∫£m x√∫c ·∫£nh h∆∞·ªüng ng∆∞·ª£c l·∫°i quy·∫øt ƒë·ªãnh nh∆∞ th·∫ø n√†o? (Bio-PKT ngh·ªâ v√¨ "S·ª£ Stress", c√≤n Greedy h·ªçc ti·∫øp v√¨ "M√π c·∫£m x√∫c").D∆∞·ªõi ƒë√¢y l√† ƒë·ªÅ xu·∫•t n√¢ng c·∫•p h·ªá th·ªëng l√™n phi√™n b·∫£n "Psychometric Digital Twin" (B·∫£n sao s·ªë T√¢m tr·∫Øc h·ªçc).1. C∆† S·ªû L√ù THUY·∫æT (THEORY) ƒê·ªÇ THUY·∫æT PH·ª§C REVIEWERThay v√¨ d√πng logic if-else ƒë∆°n gi·∫£n, h√£y tr√≠ch d·∫´n m√¥ h√¨nh Russell‚Äôs Circumplex Model of Affect (M√¥ h√¨nh V√≤ng cung C·∫£m x√∫c):Tr·ª•c ho√†nh (X): Valence (M·ª©c ƒë·ªô h√†i l√≤ng: Ti√™u c·ª±c $\to$ T√≠ch c·ª±c).Tr·ª•c tung (Y): Arousal (M·ª©c nƒÉng l∆∞·ª£ng: Th·∫•p $\to$ Cao).Ch√∫ng ta s·∫Ω hi·ªÉn th·ªã tr·∫°ng th√°i c·ªßa Agent tr√™n kh√¥ng gian n√†y.2. K·∫æ HO·∫†CH C·∫¨P NH·∫¨T GIAO DI·ªÜN (UI UPDATE)Ch√∫ng ta s·∫Ω thay th·∫ø c√°c Emoji tƒ©nh b·∫±ng 2 th√†nh ph·∫ßn tr·ª±c quan chuy√™n nghi·ªáp h∆°n:Bi·ªÉu ƒë·ªì Radar (Psychometric Radar Chart):Hi·ªÉn th·ªã ƒëa chi·ªÅu: Energy (NƒÉng l∆∞·ª£ng), Focus (T·∫≠p trung), Stress (CƒÉng th·∫≥ng), Satisfaction (H√†i l√≤ng).Greedy: H√¨nh d·∫°ng m√©o m√≥ (Stress cao, Satisfaction th·∫•p).Bio-PKT: H√¨nh d·∫°ng c√¢n b·∫±ng (Homeostasis).Nh·∫≠t k√Ω Quy·∫øt ƒë·ªãnh C·∫£m x√∫c (Affective Decision Log):Thay v√¨ ch·ªâ ghi "Learning Node A", h√£y ghi r√µ l√Ω do t√¢m l√Ω.V√≠ d·ª•: "Action: REST | Trigger: Frustration > 80% (Task too hard)".3. TRI·ªÇN KHAI M√É NGU·ªíN (PHI√äN B·∫¢N v10.0)T√¥i ƒë√£ c·∫≠p nh·∫≠t index.html v√† script.js ƒë·ªÉ t√≠ch h·ª£p Radar Chart v√† Switching Cost Visualization.B∆∞·ªõc 1: C·∫≠p nh·∫≠t index.htmlTh√™m canvas cho Radar Chart v√† s·ª≠a l·∫°i b·ªë c·ª•c Stats.HTML<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-PKT Sim v10 (Psychometric)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="header">
                <h2>Bio-PKT Sim v10</h2>
                <p>Psychometric & Affective AI</p>
            </div>
            
            <div class="control-group">
                <button onclick="runLiveSimulation()" class="btn-run">RESTART EXPERIMENT</button>
            </div>

            <div class="control-group">
                <label>Real-time Psychometrics</label>
                <div style="height: 250px;">
                    <canvas id="radarChart"></canvas>
                </div>
                <p class="small-note" style="text-align:center; margin-top:5px;">
                    <span style="color:#ef4444">‚ñ† Greedy</span> vs <span style="color:#10b981">‚ñ† Bio-PKT</span>
                </p>
            </div>

            <div class="control-group terminal-box">
                <label>Decision Context Log</label>
                <div id="console-log" class="console">
                    <span class="log-line">System Ready...</span>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div class="stats-panel">
                <div class="card stat-card red">
                    <h3>Greedy Agent</h3>
                    <div class="metric-row">
                        <span>Stress:</span> <span id="stressGreedy" style="color:#ef4444">0%</span>
                    </div>
                    <div class="metric-row">
                        <span>Flow:</span> <span id="flowGreedy">0%</span>
                    </div>
                    <div class="emotion-badge" id="badgeGreedy">üòê Neutral</div>
                </div>
                <div class="card stat-card green">
                    <h3>Bio-PKT Agent</h3>
                    <div class="metric-row">
                        <span>Stress:</span> <span id="stressBio">0%</span>
                    </div>
                    <div class="metric-row">
                        <span>Flow:</span> <span id="flowBio">0%</span>
                    </div>
                    <div class="emotion-badge" id="badgeBio">üòê Neutral</div>
                </div>
            </div>

            <div id="tab-graph" class="tab-content active">
                <div class="subject-legend">
                    <span class="legend-item"><span class="dot" style="background:#3b82f6"></span> Theory</span>
                    <span class="legend-item"><span class="dot" style="background:#f59e0b"></span> Coding</span>
                    <span class="legend-item"><span class="dot" style="background:#ef4444"></span> Math</span>
                </div>

                <div style="display:flex; gap: 15px; height: 100%;">
                    <div class="chart-wrapper">
                        <h4>Greedy Path</h4>
                        <div id="network-greedy" style="width:100%; height:90%;"></div>
                    </div>
                    <div class="chart-wrapper">
                        <h4>Bio-PKT Path</h4>
                        <div id="network-bio" style="width:100%; height:90%;"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>
B∆∞·ªõc 2: C·∫≠p nh·∫≠t style.cssTh√™m style cho Badge c·∫£m x√∫c v√† Metrics.CSS/* ... CSS c≈© ... */

.metric-row {
    display: flex;
    justify-content: space-between;
    font-size: 0.9em;
    margin-bottom: 5px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    padding-bottom: 2px;
}

.emotion-badge {
    margin-top: 10px;
    background: rgba(255,255,255,0.1);
    text-align: center;
    padding: 5px;
    border-radius: 4px;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 0.8em;
    letter-spacing: 1px;
}
B∆∞·ªõc 3: C·∫≠p nh·∫≠t script.js (Logic T√¢m l√Ω h·ªçc)T√¥i th√™m logic t√≠nh to√°n Stress, Flow, v√† Switching Penalty.JavaScript// ... (Ph·∫ßn Graph Definition gi·ªØ nguy√™n nh∆∞ v9.0) ...

// GLOBALS for Charts
let radarChart;

// ==========================================
// 2. PSYCHOMETRIC AGENT LOGIC
// ==========================================
class GraphAgent {
    constructor(name, strategy) {
        this.name = name;
        this.strategy = strategy;
        
        // Physical State
        this.energy = 100;
        this.mastery = { 'A':0, 'B':0, 'C':0, 'D':0, 'E':0, 'F':0 };
        
        // Context State
        this.currentNode = null;
        this.lastNode = null;
        
        // Psychological State (New for Q1 Paper)
        this.stress = 0;       // 0-100: Anxiety level
        this.focus = 100;      // 0-100: Attention span
        this.satisfaction = 50; // 0-100: Valence
        this.currentEmotion = "Neutral";
    }

    step() {
        // --- 1. BIOLOGICAL UPDATE ---
        // Recover if resting
        if (this.currentNode === null) {
            this.energy = Math.min(100, this.energy + 10);
            this.stress = Math.max(0, this.stress - 15); // Rest reduces stress fast
            this.focus = Math.min(100, this.focus + 10);
        }

        // --- 2. DECISION MAKING (CONTROLLER) ---
        // Burnout Override
        if (this.energy < 15 || this.stress > 90) {
            this.currentNode = null;
            this.currentEmotion = "Burnout";
            return { action: 'REST', reason: "Bio-Safety Triggered (High Stress/Low Energy)" };
        }

        let targetNode = null;
        let unlockeds = NODE_IDS.filter(id => {
            if (this.mastery[id] >= 100) return false;
            let parents = K_GRAPH[id].parents;
            if (parents.length === 0) return true;
            return parents.every(p => this.mastery[p] >= 80);
        });

        // STRATEGY LOGIC
        if (this.strategy === 'GREEDY') {
            // Ignorant of Stress/Switching Cost
            if (unlockeds.length > 0) {
                unlockeds.sort((a, b) => K_GRAPH[b].level - K_GRAPH[a].level);
                targetNode = unlockeds[0];
            }
        } 
        else if (this.strategy === 'BIO') {
            // Context-Aware & Affective Computing
            // Check Switching Cost Risk
            let bestScore = -Infinity;
            
            unlockeds.forEach(nodeId => {
                let node = K_GRAPH[nodeId];
                let score = node.level * 10; // Base utility
                
                // Penalty for Switching Subject (Cognitive Load)
                if (this.lastNode && K_GRAPH[this.lastNode].subject !== node.subject) {
                    score -= 15; // Context Switch Penalty
                }
                
                // Penalty for Difficulty if Energy Low
                if (this.energy < 40 && node.difficulty > 0.6) {
                    score -= 50; // Avoid hard tasks when tired
                }

                if (score > bestScore) {
                    bestScore = score;
                    targetNode = nodeId;
                }
            });
            
            // If no good option, chose to Rest proactively
            if (bestScore < 0) targetNode = null;
        }

        // --- 3. EXECUTION & PSYCHOMETRICS ---
        if (!targetNode) {
            this.currentNode = null;
            this.currentEmotion = "Relieved";
            return { action: 'REST', reason: "Strategic Recovery" };
        }

        // Context Switching Effect
        let isSwitch = this.lastNode && K_GRAPH[this.lastNode].subject !== K_GRAPH[targetNode].subject;
        if (isSwitch) {
            this.focus -= 20; // Switching breaks focus
            this.stress += 10; // Switching adds cognitive load
        } else {
            this.focus = Math.min(100, this.focus + 5); // Continuity builds focus
        }

        // Learning Physics
        let difficulty = K_GRAPH[targetNode].difficulty;
        let cost = (difficulty * 10) + (isSwitch ? 5 : 0);
        
        // Stress Calculation (Yerkes-Dodson Law implementation)
        // Stress increases if Task Difficulty > Current Energy/Focus capacity
        let strain = (difficulty * 100) - (this.energy * 0.5 + this.focus * 0.5);
        if (strain > 0) this.stress += strain * 0.2;
        else this.stress = Math.max(0, this.stress - 5); // Easy task relaxes

        // Update Energy & Mastery
        this.energy = Math.max(0, this.energy - cost);
        
        // Gain depends on Focus (Flow state)
        let efficiency = this.focus / 100;
        if (this.stress > 80) efficiency *= 0.2; // High anxiety blocks learning
        
        let gain = 10 * efficiency;
        this.mastery[targetNode] = Math.min(100, this.mastery[targetNode] + gain);

        // Update Emotion Label
        if (this.stress > 80) this.currentEmotion = "Anxious";
        else if (this.focus > 80 && this.energy > 50) this.currentEmotion = "Flow";
        else if (this.energy < 30) this.currentEmotion = "Exhausted";
        else this.currentEmotion = "Focused";

        this.lastNode = this.currentNode;
        this.currentNode = targetNode;

        return { 
            action: 'LEARN', 
            target: targetNode, 
            switch: isSwitch,
            reason: `Learning ${K_GRAPH[targetNode].subject}` 
        };
    }
}

// ... (Ph·∫ßn Visualization Network gi·ªØ nguy√™n) ...

// --- NEW RADAR CHART ---
function initRadar() {
    const ctx = document.getElementById('radarChart').getContext('2d');
    if (radarChart) radarChart.destroy();
    
    radarChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['Energy', 'Focus', 'Low Stress', 'Satisfaction'],
            datasets: [
                {
                    label: 'Greedy',
                    data: [100, 100, 100, 50],
                    backgroundColor: 'rgba(239, 68, 68, 0.2)',
                    borderColor: '#ef4444',
                    borderWidth: 2
                },
                {
                    label: 'Bio-PKT',
                    data: [100, 100, 100, 50],
                    backgroundColor: 'rgba(16, 185, 129, 0.2)',
                    borderColor: '#10b981',
                    borderWidth: 2
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                r: {
                    angleLines: { color: 'rgba(255,255,255,0.1)' },
                    grid: { color: 'rgba(255,255,255,0.1)' },
                    pointLabels: { color: '#cbd5e1', font: { size: 10 } },
                    suggestedMin: 0,
                    suggestedMax: 100
                }
            },
            plugins: { legend: { display: false } },
            animation: false // Performance optimization
        }
    });
}

function updateRadar() {
    if (!radarChart) return;
    
    // Greedy Metrics
    radarChart.data.datasets[0].data = [
        greedyAgent.energy,
        greedyAgent.focus,
        100 - greedyAgent.stress, // Invert stress for radar (Out is good)
        greedyAgent.satisfaction
    ];
    
    // Bio Metrics
    radarChart.data.datasets[1].data = [
        bioAgent.energy,
        bioAgent.focus,
        100 - bioAgent.stress,
        bioAgent.satisfaction
    ];
    
    radarChart.update();
}

// ... (Main Loop c·∫≠p nh·∫≠t th√™m h√†m updateRadar) ...
function runLiveSimulation() {
    // ... (Init code) ...
    initRadar();

    simulationInterval = setInterval(() => {
        let resG = greedyAgent.step();
        let resB = bioAgent.step();
        
        // Update Stats UI
        document.getElementById('stressGreedy').innerText = Math.round(greedyAgent.stress) + "%";
        document.getElementById('flowGreedy').innerText = Math.round(greedyAgent.focus) + "%";
        document.getElementById('badgeGreedy').innerText = greedyAgent.currentEmotion;
        document.getElementById('badgeGreedy').style.color = greedyAgent.currentEmotion === "Flow" ? "#facc15" : (greedyAgent.currentEmotion === "Anxious" ? "#ef4444" : "#e2e8f0");

        document.getElementById('stressBio').innerText = Math.round(bioAgent.stress) + "%";
        document.getElementById('flowBio').innerText = Math.round(bioAgent.focus) + "%";
        document.getElementById('badgeBio').innerText = bioAgent.currentEmotion;
        document.getElementById('badgeBio').style.color = bioAgent.currentEmotion === "Flow" ? "#facc15" : "#e2e8f0";

        // Update Charts
        updateAgentVis(greedyAgent, greedyData);
        updateAgentVis(bioAgent, bioData);
        updateRadar();

        // Log Context Switches
        if (resG.switch) logToConsole('Greedy', { msg: `Switched Context (Focus -20%)` });
        if (resB.switch) logToConsole('Bio-PKT', { msg: `Switched Context (Calculated)` });

        // Stop Condition
        // ...
    }, SIM_SPEED);
}

// ... (Helper functions) ...
window.onload = runLiveSimulation;
C√ÅCH B·∫†N GI·∫¢I TH√çCH CHO REVIEWERKhi ch·∫°y m√¥ ph·ªèng n√†y, b·∫°n s·∫Ω th·∫•y:Radar Chart:Greedy (ƒê·ªè): H√¨nh d·∫°ng s·∫Ω b·ªã m√≥p v√†o ·ªü ƒë·ªânh "Low Stress" (nghƒ©a l√† Stress r·∫•t cao) v√† "Focus" s·∫Ω dao ƒë·ªông m·∫°nh do ƒë·ªïi m√¥n li√™n t·ª•c.Bio-PKT (Xanh): H√¨nh d·∫°ng s·∫Ω cƒÉng tr√≤n h∆°n, th·ªÉ hi·ªán s·ª± c√¢n b·∫±ng (Well-being).Tr·∫°ng th√°i C·∫£m x√∫c:Greedy s·∫Ω th∆∞·ªùng xuy√™n r∆°i v√†o tr·∫°ng th√°i "Anxious" ho·∫∑c "Burnout" khi c·ªë h·ªçc m√¥n Math (ƒê·ªè) l√∫c nƒÉng l∆∞·ª£ng th·∫•p.Bio-PKT s·∫Ω duy tr√¨ tr·∫°ng th√°i "Flow" ho·∫∑c "Focused" l√¢u h∆°n nh·ªù bi·∫øt ngh·ªâ ng∆°i ƒë√∫ng l√∫c v√† tr√°nh ƒë·ªïi m√¥n lo·∫°n x·∫° (Context Switching penalty).ƒê√¢y ch√≠nh l√† Human-Centric AI m√† h·ªôi ngh·ªã Q1 ƒëang t√¨m ki·∫øm! B·∫°n c√≥ mu·ªën t√¥i gi·∫£i th√≠ch th√™m v·ªÅ c√°ch t√≠nh to√°n "Stress" theo ƒë·ªãnh lu·∫≠t Yerkes-Dodson trong code kh√¥ng?