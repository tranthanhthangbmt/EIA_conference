ƒê·ªÅ t√†i nghi√™n c·ª©u - C√¢y tri th·ª©c c√° nh√¢n h√≥a
Custom Gem
Python
print("Checking file structure of EIA_conference_v3A")
import os

# It seems the user uploaded folders. I will list files in EIA_conference_v3A to understand the structure.
# Based on the file list provided in the prompt context, I can see the files.
# I will read script.js and index.html to understand the current logic and UI.

file_path_js = 'EIA_conference_v3A/script.js'
file_path_html = 'EIA_conference_v3A/index.html'

print(f"Reading {file_path_js}")
print(f"Reading {file_path_html}")


Code output
Checking file structure of EIA_conference_v3A
Reading EIA_conference_v3A/script.js
Reading EIA_conference_v3A/index.html

Python
with open('EIA_conference_v3A/script.js', 'r') as f:
    js_content = f.read()

with open('EIA_conference_v3A/index.html', 'r') as f:
    html_content = f.read()

print(f"JS Content Length: {len(js_content)}")
print(f"HTML Content Length: {len(html_content)}")
print("--- JS Snippet ---")
print(js_content[:500])
print("--- HTML Snippet ---")
print(html_content[:500])

Code output
JS Content Length: 12669
HTML Content Length: 8123
--- JS Snippet ---
// ==========================================
// 1. GRAPH DEFINITION (DAG Structure)
// ==========================================
const K_GRAPH = {
    'A': { id: 'A', label: 'Intro AI', level: 0, difficulty: 0.3, parents: [] },
    'B': { id: 'B', label: 'Python Basics', level: 0, difficulty: 0.3, parents: [] },
    'C': { id: 'C', label: 'ML Algorithms', level: 1, difficulty: 0.6, parents: ['A', 'B'] },
    'D': { id: 'D', label: 'Data Proc', level: 1, difficulty: 0.6, parents: ['B'] },
    '
--- HTML Snippet ---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-PKT Sim v8.0 (Live Graph)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <link rel="stylesheet" href="s

Python
print(js_content)

Code output
// ==========================================
// 1. GRAPH DEFINITION (DAG Structure)
// ==========================================
const K_GRAPH = {
    'A': { id: 'A', label: 'Intro AI', level: 0, difficulty: 0.3, parents: [] },
    'B': { id: 'B', label: 'Python Basics', level: 0, difficulty: 0.3, parents: [] },
    'C': { id: 'C', label: 'ML Algorithms', level: 1, difficulty: 0.6, parents: ['A', 'B'] },
    'D': { id: 'D', label: 'Data Proc', level: 1, difficulty: 0.6, parents: ['B'] },
    'E': { id: 'E', label: 'Deep Learning', level: 2, difficulty: 0.8, parents: ['C', 'D'] },
    'F': { id: 'F', label: 'Transformer', level: 3, difficulty: 1.0, parents: ['E'] }
};
const NODE_IDS = Object.keys(K_GRAPH);

// UI Globals
let networkGreedy, networkBio;
let greedyData, bioData;
let simulationInterval;
let SIM_SPEED = 100;
let chartEnergy, chartKnowledge;
let timeStep = 0;

// Config Globals (Updated from UI)
let PARAMS = {
    alphaHigh: 18,
    recovRate: 15,
    decayRate: 0.005,
    switchCost: 2,
    mpcHorizon: 3,
    nonLinear: true,
    mismatchRate: 0.2
};

// ==========================================
// 2. HELPER FUNCTIONS (PHYSICS ENGINE)
// ==========================================
function getParamsFromUI() {
    return {
        alphaHigh: parseFloat(document.getElementById('alphaHigh').value),
        recovRate: parseFloat(document.getElementById('recovRate').value),
        decayRate: parseFloat(document.getElementById('decayRate').value) / 1000,
        switchCost: parseFloat(document.getElementById('switchCost').value),
        mpcHorizon: parseInt(document.getElementById('mpcHorizon').value),
        nonLinear: document.getElementById('nonLinearToggle').checked,
        mismatchRate: parseFloat(document.getElementById('mismatch').value) / 100
    };
}

// ==========================================
// 3. AGENT LOGIC (HYBRID: PHYSICS + GRAPH)
// ==========================================
class GraphAgent {
    constructor(name, strategy) {
        this.name = name;
        this.strategy = strategy;

        // Physics State
        this.energy = 100;
        this.burnoutTimer = 0;

        // Graph State
        this.mastery = { 'A': 0, 'B': 0, 'C': 0, 'D': 0, 'E': 0, 'F': 0 };
        this.currentNode = null;
        this.burnoutCount = 0;
        this.statusMsg = "Ready";

        this.logEnergy = [];
        this.logMastery = [];
    }

    step(params) {
        // 1. Forced Recovery (Burnout Recovery)
        if (this.energy < 20) {
            this.energy += 15; // Slow recovery
            this.currentNode = null;
            this.statusMsg = "BURNOUT RECOVERY";
            this.logState();
            return { action: 'REST', target: null, msg: this.statusMsg };
        }

        let targetNode = null;

        // --- FIND AVAILABLE NODES (Unlockeds) ---
        // Both Agents are smart enough to know prerequisites
        let unlockeds = NODE_IDS.filter(id => {
            if (this.mastery[id] >= 100) return false; // Already done
            let parents = K_GRAPH[id].parents;
            if (parents.length === 0) return true;
            return parents.every(p => this.mastery[p] >= 80); // Strict prerequisite
        });

        // --- DECISION STRATEGY ---

        if (this.strategy === 'GREEDY') {
            // RATIONAL GREEDY:
            // Always picks the HARDEST available node to maximize Immediate Reward.
            // Ignorant of Energy cost.

            if (unlockeds.length > 0) {
                // Sort Descending by Level (Hardest first)
                unlockeds.sort((a, b) => K_GRAPH[b].level - K_GRAPH[a].level);
                targetNode = unlockeds[0];
                this.statusMsg = `Grinding ${targetNode} (High Gain)`;
            } else {
                this.statusMsg = "No nodes available";
            }
        }

        else if (this.strategy === 'BIO') {
            // BIO-PKT (MPC / Adaptive):
            // Considers Energy State.

            if (this.energy > 60) {
                // High Energy -> Pick Hardest (Like Greedy)
                unlockeds.sort((a, b) => K_GRAPH[b].level - K_GRAPH[a].level);
                if (unlockeds.length > 0) targetNode = unlockeds[0];
                this.statusMsg = `Power Learning ${targetNode}`;
            } else if (this.energy > 30) {
                // Medium Energy -> Pick EASIEST (Active Rest / Pacing)
                // This is the key difference: Bio-PKT knows to "step back"
                unlockeds.sort((a, b) => K_GRAPH[a].level - K_GRAPH[b].level);
                if (unlockeds.length > 0) targetNode = unlockeds[0];
                this.statusMsg = `Pacing with ${targetNode}`;
            } else {
                // Low Energy -> Strategic Rest (Prevent Burnout)
                targetNode = null;
                this.statusMsg = "Strategic Rest";
            }
        }

        // --- EXECUTION (PHYSICS) ---
        if (!targetNode) {
            this.energy = Math.min(100, this.energy + params.recovRate);
            this.currentNode = null;
            this.logState();
            return { action: 'REST', target: null, msg: this.statusMsg };
        }

        // Calculate Cost & Gain
        let cost = (K_GRAPH[targetNode].level + 1) * 8; // Harder = More Energy

        // Apply Physics Params
        if (params.nonLinear) cost *= (1 + (100 - this.energy) / 100);

        let gain = 10;

        // Diminishing Returns (Natural Penalty)
        // No arbitrary burnouts, just reduced efficiency
        if (this.energy < 50) {
            gain *= (this.energy / 50);
        }

        this.energy -= cost;
        this.mastery[targetNode] = Math.min(100, this.mastery[targetNode] + gain);
        this.currentNode = targetNode;

        // Crash Check (Still possible if Greedy pushes too hard)
        if (this.energy <= 0) {
            this.energy = 0;
            this.burnoutCount++;
            this.statusMsg = "*** CRASHED ***";
        }

        this.logState();
        return { action: 'LEARN', target: targetNode, msg: this.statusMsg };
    }

    logState() {
        this.logEnergy.push(Math.round(this.energy));
        this.logMastery.push(this.getTotalMastery());
        if (this.logEnergy.length > 100) {
            this.logEnergy.shift();
            this.logMastery.shift();
        }
    }

    getTotalMastery() {
        return Math.round(NODE_IDS.reduce((acc, id) => acc + this.mastery[id], 0) / NODE_IDS.length);
    }
}

// ==========================================
// 4. VISUALIZATION & RUNTIME
// ==========================================
let greedyAgent = new GraphAgent("Greedy", "GREEDY");
let bioAgent = new GraphAgent("Bio-PKT", "BIO");

function initVisNetwork(containerId, dataSet) {
    let nodes = NODE_IDS.map(id => ({
        id: id, label: K_GRAPH[id].label + "\n0%", level: K_GRAPH[id].level,
        shape: 'box', color: { background: '#334155', border: '#cbd5e1' }, font: { color: 'white' }
    }));
    let edges = [];
    NODE_IDS.forEach(id => { K_GRAPH[id].parents.forEach(p => { edges.push({ from: p, to: id, arrows: 'to' }); }); });
    let data = { nodes: new vis.DataSet(nodes), edges: new vis.DataSet(edges) };
    let options = { layout: { hierarchical: { direction: 'LR', sortMethod: 'directed', levelSeparation: 100 } }, physics: false };
    return { net: new vis.Network(document.getElementById(containerId), data, options), nodes: data.nodes };
}

function updateAgentVis(agent, visData) {
    let updates = [];
    NODE_IDS.forEach(id => {
        let m = agent.mastery[id];
        let color = '#334155';
        if (m >= 100) color = '#10b981'; else if (m > 0) color = '#f59e0b';
        if (agent.currentNode === id) {
            let parentsMet = K_GRAPH[id].parents.every(p => agent.mastery[p] >= 50);
            color = parentsMet ? '#3b82f6' : '#ef4444';
        }
        updates.push({ id: id, label: `${K_GRAPH[id].label}\n${Math.round(m)}%`, color: { background: color } });
    });
    visData.nodes.update(updates);
}

function logToConsole(agentName, result) {
    // Only log if console exists (might be hidden)
    let consoleEl = document.getElementById('console-log');
    if (!consoleEl) return;

    let line = document.createElement('div');
    line.className = 'log-line ' + (agentName === 'Greedy' ? 'greedy' : 'bio');
    let time = new Date().toLocaleTimeString().split(' ')[0];
    line.innerText = `[${time}] ${agentName}: ${result.msg}`;
    consoleEl.prepend(line);
    if (consoleEl.childElementCount > 20) consoleEl.lastChild.remove();
}

// --- CHARTS ---
function initCharts() {
    const commonOptions = {
        responsive: true, maintainAspectRatio: false, animation: false,
        scales: { x: { display: false }, y: { min: 0, max: 100, grid: { color: 'rgba(255,255,255,0.1)' } } },
        plugins: { legend: { labels: { color: '#cbd5e1' } } }
    };

    // Energy
    if (chartEnergy) chartEnergy.destroy();
    chartEnergy = new Chart(document.getElementById('energyChart').getContext('2d'), {
        type: 'line',
        data: {
            labels: Array(100).fill(0).map((_, i) => i),
            datasets: [
                { label: 'Greedy E', data: [], borderColor: '#ef4444', borderWidth: 2, tension: 0.2 },
                { label: 'Bio-PKT E', data: [], borderColor: '#10b981', borderWidth: 2, tension: 0.2 }
            ]
        },
        options: commonOptions
    });

    // Knowledge
    if (chartKnowledge) chartKnowledge.destroy();
    chartKnowledge = new Chart(document.getElementById('knowledgeChart').getContext('2d'), {
        type: 'line',
        data: {
            labels: Array(100).fill(0).map((_, i) => i),
            datasets: [
                { label: 'Greedy Mastery', data: [], borderColor: '#ef4444', borderWidth: 2, borderDash: [5, 5] },
                { label: 'Bio-PKT Mastery', data: [], borderColor: '#10b981', borderWidth: 2 }
            ]
        },
        options: commonOptions
    });
}

function updateCharts() {
    if (chartEnergy) {
        chartEnergy.data.datasets[0].data = greedyAgent.logEnergy;
        chartEnergy.data.datasets[1].data = bioAgent.logEnergy;
        chartEnergy.update('none');
    }
    if (chartKnowledge) {
        chartKnowledge.data.datasets[0].data = greedyAgent.logMastery;
        chartKnowledge.data.datasets[1].data = bioAgent.logMastery;
        chartKnowledge.update('none');
    }
}

// --- MAIN LOOPS ---
function runLiveSimulation() {
    // Check if interval is already running, if so, just reset or continue?
    // Restart logic
    if (simulationInterval) clearInterval(simulationInterval);

    greedyAgent = new GraphAgent("Greedy", "GREEDY");
    bioAgent = new GraphAgent("Bio-PKT", "BIO");
    timeStep = 0;

    greedyData = initVisNetwork('network-greedy');
    bioData = initVisNetwork('network-bio');
    initCharts();

    document.getElementById('console-log').innerHTML = '';

    simulationInterval = setInterval(() => {
        let params = getParamsFromUI();
        let resG = greedyAgent.step(params);
        let resB = bioAgent.step(params);

        updateAgentVis(greedyAgent, greedyData);
        updateAgentVis(bioAgent, bioData);
        updateCharts();

        // UI Stats
        document.getElementById('scoreGreedy').innerText = greedyAgent.getTotalMastery();
        document.getElementById('burnGreedy').innerText = greedyAgent.burnoutCount;
        document.getElementById('scoreBio').innerText = bioAgent.getTotalMastery();
        document.getElementById('burnBio').innerText = bioAgent.burnoutCount;
        document.getElementById('status-greedy').innerText = `E: ${Math.round(greedyAgent.energy)}%`;
        document.getElementById('status-bio').innerText = `E: ${Math.round(bioAgent.energy)}%`;

        if (Math.random() > 0.8) {
            logToConsole('Greedy', resG);
            logToConsole('Bio-PKT', resB);
        }

        let allMastered = NODE_IDS.every(id => bioAgent.mastery[id] >= 100);
        if (allMastered) clearInterval(simulationInterval);

    }, SIM_SPEED);
}

// --- EXPERIMENT MODE MOVED TO energy.html / script_energy.js ---
// This file is dedicated to the Live Graph Visualization (v8.0/v9.0 Hybrid)

// Helper
function updateSpeed(val) {
    SIM_SPEED = 510 - val;
    document.getElementById('valSpeed').innerText = SIM_SPEED + "ms";
    if (simulationInterval) { clearInterval(simulationInterval); runLiveSimulation(); }
}
function switchTab(tab) {
    document.getElementById('tab-graph').style.display = tab === 'graph' ? 'flex' : 'none';
    document.getElementById('tab-energy').style.display = tab === 'energy' ? 'block' : 'none';
}

window.onload = runLiveSimulation;

Python
import os

if not os.path.exists('EIA_conference_v4'):
    os.makedirs('EIA_conference_v4')
    print("Created directory EIA_conference_v4")
else:
    print("Directory EIA_conference_v4 already exists")

Code output
Created directory EIA_conference_v4

Python
css_content = """
:root {
    --bg-dark: #0f172a;
    --panel-bg: rgba(30, 41, 59, 0.7);
    --text-main: #e2e8f0;
    --accent: #38bdf8;
    --color-greedy: #ef4444; /* Red */
    --color-fixed: #f59e0b;  /* Amber/Yellow */
    --color-bio: #10b981;    /* Emerald/Green */
    --color-mpc: #8b5cf6;    /* Purple */
}

body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background-color: var(--bg-dark);
    color: var(--text-main);
    height: 100vh;
    overflow: hidden;
}

.container {
    display: flex;
    height: 100%;
}

/* SIDEBAR */
.sidebar {
    width: 320px;
    background: var(--panel-bg);
    backdrop-filter: blur(10px);
    padding: 20px;
    border-right: 1px solid rgba(255,255,255,0.1);
    display: flex;
    flex-direction: column;
    gap: 15px;
    overflow-y: auto;
}

.header h2 { margin: 0; color: var(--accent); letter-spacing: -1px; }
.header p { margin: 5px 0 0; opacity: 0.6; font-size: 0.9em; }

.control-group {
    background: rgba(0,0,0,0.2);
    padding: 15px;
    border-radius: 12px;
}

.control-group label {
    display: block;
    margin-bottom: 10px;
    font-weight: 600;
    color: var(--accent);
    text-transform: uppercase;
    font-size: 0.75em;
}

.input-wrap { margin-bottom: 12px; }
.input-wrap span { font-size: 0.85em; display: block; margin-bottom: 4px; }
.input-wrap input[type=range] { width: 100%; }
.val-display { float: right; color: var(--accent); font-weight: bold; font-size: 0.9em; }

/* TOGGLE SWITCH */
.switch { position: relative; display: inline-block; width: 40px; height: 20px; float: right; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 20px; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--accent); }
input:checked + .slider:before { transform: translateX(20px); }

/* BUTTONS */
.btn-run {
    background: linear-gradient(135deg, var(--accent), #0284c7);
    color: white; border: none; padding: 12px; border-radius: 8px;
    font-weight: bold; cursor: pointer; transition: transform 0.2s; width: 100%;
}
.btn-run:hover { transform: scale(1.02); }

.tab-buttons { display: flex; gap: 10px; margin-top: 5px; }
.tab-btn {
    flex: 1; background: rgba(255,255,255,0.1); border: none;
    color: var(--text-main); padding: 8px; border-radius: 6px; cursor: pointer; font-size: 0.8em;
}
.tab-btn.active { background: var(--accent); color: #000; font-weight: bold; }

/* TERMINAL LOG */
.terminal-box { flex: 1; display: flex; flex-direction: column; min-height: 150px; border-top: 1px solid rgba(255,255,255,0.1); }
.console {
    background: #000; color: #33ff00; font-family: 'Courier New', monospace;
    font-size: 0.75em; padding: 10px; border-radius: 6px; flex: 1; overflow-y: auto; border: 1px solid #333;
}
.log-line { display: block; margin-bottom: 4px; border-bottom: 1px solid #111; }
.log-line.greedy { color: #ef4444; }
.log-line.bio { color: #10b981; }

/* MAIN CONTENT */
.main-content {
    flex: 1; padding: 20px; display: flex; flex-direction: column; gap: 20px; overflow-y: auto;
}

.stats-panel { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.card { background: var(--panel-bg); padding: 15px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.05); position: relative; }
.stat-card h3 { margin: 0 0 5px; font-size: 0.9em; opacity: 0.8; }
.stat-card p { margin: 0; font-size: 1.2em; font-weight: bold; }
.stat-card small { display: block; margin-top: 5px; opacity: 0.7; font-size: 0.8em; }

.stat-card.red { border-left: 4px solid var(--color-greedy); }
.stat-card.green { border-left: 4px solid var(--color-bio); }

/* AGENT EMOTION DISPLAY */
.emotion-display {
    position: absolute; top: 10px; right: 15px; text-align: right;
}
.emoji-icon { font-size: 2.5em; line-height: 1; }
.emotion-label { display: block; font-size: 0.7em; font-weight: bold; text-transform: uppercase; margin-top: 2px; }

/* TABS */
.tab-content { flex: 1; height: 100%; display: flex; flex-direction: column; gap: 10px; }
.chart-wrapper {
    background: var(--panel-bg); padding: 15px; border-radius: 12px; flex: 1; min-height: 250px; position: relative; display: flex; flex-direction: column;
}
.chart-wrapper h4 { margin: 0 0 10px; font-size: 0.9em; opacity: 0.7; }

/* AGENT STATUS OVERLAY */
.agent-status {
    position: absolute; bottom: 15px; right: 15px; background: rgba(0,0,0,0.8);
    padding: 5px 10px; border-radius: 4px; font-size: 0.8em; font-weight: bold; border: 1px solid rgba(255,255,255,0.2);
}

/* SUBJECT LEGEND */
.subject-legend {
    display: flex; gap: 15px; justify-content: center; margin-bottom: 5px;
}
.legend-item { display: flex; align-items: center; gap: 5px; font-size: 0.8em; }
.dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; }
"""

with open('EIA_conference_v4/style.css', 'w') as f:
    f.write(css_content)

print("Created EIA_conference_v4/style.css")

Code output
Created EIA_conference_v4/style.css

Python
html_content = """
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-PKT Sim v9.0 (Emotion & Context)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="header">
                <h2>Bio-PKT Sim v9.0</h2>
                <p>Human-Centric & Responsible AI</p>
            </div>
            
            <div class="control-group">
                <label>Simulation Controls</label>
                <div class="input-wrap">
                    <span>Sim Speed</span>
                    <input type="range" id="simSpeed" min="10" max="500" value="100" oninput="updateSpeed(this.value)">
                    <span id="valSpeed" class="val-display">100ms</span>
                </div>
                <button onclick="runLiveSimulation()" class="btn-run">RESTART DEMO</button>
            </div>

            <div class="control-group">
                 <label>Visualization</label>
                 <div class="tab-buttons">
                     <button onclick="switchTab('graph')" class="tab-btn active">Live Graph</button>
                     <button onclick="switchTab('energy')" class="tab-btn">Energy Data</button>
                 </div>
            </div>

            <div class="control-group terminal-box">
                <label>Cognitive Log</label>
                <div id="console-log" class="console">
                    <span class="log-line">Waiting for start...</span>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div class="stats-panel">
                <div class="card stat-card red">
                    <h3>Greedy Agent</h3>
                    <p>Mastery: <span id="scoreGreedy">0</span>%</p>
                    <small>Status: <span id="statusTextGreedy">Idle</span></small>
                    
                    <div class="emotion-display">
                        <span id="emoGreedy" class="emoji-icon">üòê</span>
                        <span id="labelGreedy" class="emotion-label">Neutral</span>
                    </div>
                </div>
                <div class="card stat-card green">
                    <h3>Bio-PKT Agent</h3>
                    <p>Mastery: <span id="scoreBio">0</span>%</p>
                    <small>Status: <span id="statusTextBio">Idle</span></small>

                    <div class="emotion-display">
                        <span id="emoBio" class="emoji-icon">üòê</span>
                        <span id="labelBio" class="emotion-label">Neutral</span>
                    </div>
                </div>
            </div>

            <div id="tab-graph" class="tab-content active">
                <div class="subject-legend">
                    <span class="legend-item"><span class="dot" style="background:#3b82f6"></span> Theory (Basics)</span>
                    <span class="legend-item"><span class="dot" style="background:#f59e0b"></span> Coding (Project)</span>
                    <span class="legend-item"><span class="dot" style="background:#ef4444"></span> Math (Deep Logic)</span>
                </div>

                <div style="display:flex; gap: 15px; height: 100%;">
                    <div class="chart-wrapper">
                        <h4>Greedy View (Unstructured)</h4>
                        <div id="network-greedy" style="width:100%; height:90%; border:1px solid rgba(239, 68, 68, 0.3); border-radius:8px;"></div>
                        <div class="agent-status" id="overlay-greedy">E: 100%</div>
                    </div>
                    <div class="chart-wrapper">
                        <h4>Bio-PKT View (Structured)</h4>
                        <div id="network-bio" style="width:100%; height:90%; border:1px solid rgba(16, 185, 129, 0.3); border-radius:8px;"></div>
                        <div class="agent-status" id="overlay-bio">E: 100%</div>
                    </div>
                </div>
            </div>

            <div id="tab-energy" class="tab-content" style="display:none;">
                <div class="chart-wrapper">
                    <canvas id="energyChart"></canvas>
                </div>
            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>
"""

with open('EIA_conference_v4/index.html', 'w') as f:
    f.write(html_content)

print("Created EIA_conference_v4/index.html")

Code output
Created EIA_conference_v4/index.html

Python
js_content = """
// ==========================================
// 1. GRAPH DEFINITION (DAG + SUBJECTS)
// ==========================================
const K_GRAPH = {
    'A': { id: 'A', label: 'Intro AI', level: 0, difficulty: 0.3, parents: [], subject: 'Theory', color: '#3b82f6' },
    'B': { id: 'B', label: 'Python Basics', level: 0, difficulty: 0.3, parents: [], subject: 'Theory', color: '#3b82f6' },
    'C': { id: 'C', label: 'ML Algos', level: 1, difficulty: 0.6, parents: ['A'], subject: 'Coding', color: '#f59e0b' },
    'D': { id: 'D', label: 'Data Proc', level: 1, difficulty: 0.6, parents: ['B'], subject: 'Coding', color: '#f59e0b' },
    'E': { id: 'E', label: 'Deep Learning', level: 2, difficulty: 0.8, parents: ['C', 'D'], subject: 'Math', color: '#ef4444' },
    'F': { id: 'F', label: 'Transformer', level: 3, difficulty: 1.0, parents: ['E'], subject: 'Math', color: '#ef4444' }
};
const NODE_IDS = Object.keys(K_GRAPH);

// GLOBALS
let greedyAgent, bioAgent;
let greedyData, bioData;
let simulationInterval;
let SIM_SPEED = 100;
let chartEnergy;

// PARAMS (Hardcoded for Demo)
const PARAMS = { recovRate: 15, nonLinear: true };

// ==========================================
// 2. AGENT LOGIC (EMOTION + SWITCHING)
// ==========================================
class GraphAgent {
    constructor(name, strategy) {
        this.name = name;
        this.strategy = strategy;
        this.energy = 100;
        this.mastery = { 'A':0, 'B':0, 'C':0, 'D':0, 'E':0, 'F':0 };
        this.currentNode = null;
        this.lastNode = null;
        this.burnoutCount = 0;
        
        // New State Variables
        this.emotion = 'Neutral'; // Neutral, Flow, Focused, Stressed, Exhausted, Frustrated, Relieved
        this.emoji = 'üòê';
        this.statusMsg = "Ready";
        
        this.logEnergy = [];
    }

    step() {
        // 1. Burnout Recovery
        if (this.energy < 20) {
            this.energy += 10;
            this.setEmotion('Exhausted');
            this.statusMsg = "Recovering (Burnout)";
            this.currentNode = null;
            return { action: 'REST', msg: this.statusMsg };
        }

        let targetNode = null;
        let unlockeds = NODE_IDS.filter(id => {
            if (this.mastery[id] >= 100) return false;
            let parents = K_GRAPH[id].parents;
            if (parents.length === 0) return true;
            return parents.every(p => this.mastery[p] >= 80);
        });

        // --- STRATEGY ---
        if (this.strategy === 'GREEDY') {
            // Picks Hardest Available
            if (unlockeds.length > 0) {
                unlockeds.sort((a, b) => K_GRAPH[b].level - K_GRAPH[a].level);
                targetNode = unlockeds[0];
            }
        } 
        else if (this.strategy === 'BIO') {
            // Picks based on Energy
            if (this.energy > 60) {
                // High Energy -> Hardest
                unlockeds.sort((a, b) => K_GRAPH[b].level - K_GRAPH[a].level);
                if (unlockeds.length > 0) targetNode = unlockeds[0];
            } else if (this.energy > 30) {
                // Med Energy -> Easiest (Pacing)
                unlockeds.sort((a, b) => K_GRAPH[a].level - K_GRAPH[b].level);
                if (unlockeds.length > 0) targetNode = unlockeds[0];
            } else {
                targetNode = null; // Rest
            }
        }

        // --- EXECUTION ---
        if (!targetNode) {
            this.energy = Math.min(100, this.energy + 15);
            this.setEmotion('Relieved');
            this.statusMsg = "Strategic Resting";
            this.currentNode = null;
            return { action: 'REST', msg: this.statusMsg };
        }

        // Subject Switching Logic
        let switchMsg = "";
        if (this.lastNode && K_GRAPH[targetNode].subject !== K_GRAPH[this.lastNode].subject) {
            switchMsg = `[Switch: ${K_GRAPH[this.lastNode].subject} -> ${K_GRAPH[targetNode].subject}]`;
            this.energy -= 5; // Switching Cost
        }

        // Learning Physics
        let cost = (K_GRAPH[targetNode].level + 1) * 8;
        if (PARAMS.nonLinear) cost *= (1 + (100 - this.energy) / 100);
        
        let gain = 10;
        if (this.energy < 50) gain *= (this.energy / 50); // Diminishing returns

        this.energy -= cost;
        this.mastery[targetNode] = Math.min(100, this.mastery[targetNode] + gain);
        
        this.lastNode = this.currentNode;
        this.currentNode = targetNode;

        // --- EMOTION UPDATE ---
        // Logic to determine emotion based on current state
        if (this.energy > 70 && gain > 8) {
            this.setEmotion('Flow');
        } else if (this.energy > 40) {
            this.setEmotion('Focused');
        } else if (this.energy <= 0) {
            this.setEmotion('Frustrated'); // Crashed
            this.energy = 0;
            this.burnoutCount++;
        } else {
            this.setEmotion('Stressed');
        }

        this.statusMsg = `Learning ${K_GRAPH[targetNode].label}`;
        
        return { 
            action: 'LEARN', 
            target: targetNode, 
            msg: `${this.statusMsg} ${switchMsg}`,
            switch: switchMsg !== ""
        };
    }

    setEmotion(state) {
        this.emotion = state;
        switch(state) {
            case 'Flow': this.emoji = 'ü§©'; break;
            case 'Focused': this.emoji = 'üôÇ'; break;
            case 'Stressed': this.emoji = 'üò£'; break;
            case 'Exhausted': this.emoji = 'üòµ'; break;
            case 'Frustrated': this.emoji = 'ü§¨'; break;
            case 'Relieved': this.emoji = 'üòå'; break;
            case 'Neutral': this.emoji = 'üòê'; break;
        }
    }

    logHistory() {
        this.logEnergy.push(this.energy);
        if (this.logEnergy.length > 100) this.logEnergy.shift();
    }

    getAverageMastery() {
        return Math.round(NODE_IDS.reduce((a,b)=>a+this.mastery[b],0) / NODE_IDS.length);
    }
}

// ==========================================
// 3. VISUALIZATION
// ==========================================
function initVisNetwork(containerId) {
    let nodes = NODE_IDS.map(id => ({
        id: id, 
        label: K_GRAPH[id].label + "\\n0%", 
        level: K_GRAPH[id].level,
        shape: 'box', 
        font: { color: 'white' },
        // Default style
        color: { background: '#334155', border: K_GRAPH[id].color }, // Border indicates Subject
        borderWidth: 2
    }));

    let edges = [];
    NODE_IDS.forEach(id => {
        K_GRAPH[id].parents.forEach(p => edges.push({ from: p, to: id, arrows: 'to' }));
    });

    let data = { nodes: new vis.DataSet(nodes), edges: new vis.DataSet(edges) };
    let options = { 
        layout: { hierarchical: { direction: 'LR', sortMethod: 'directed', levelSeparation: 120 } }, 
        physics: false,
        nodes: { borderWidthSelected: 4 }
    };
    
    return { 
        net: new vis.Network(document.getElementById(containerId), data, options), 
        nodes: data.nodes 
    };
}

function updateAgentVis(agent, visData) {
    let updates = [];
    NODE_IDS.forEach(id => {
        let m = agent.mastery[id];
        // Base color based on mastery
        let bg = '#334155';
        if (m >= 100) bg = '#10b981'; // Green (Done)
        else if (m > 0) bg = '#64748b'; // In progress

        // Active Node Highlight
        let borderWidth = 2;
        let borderColor = K_GRAPH[id].color; // Subject Color

        if (agent.currentNode === id) {
            bg = K_GRAPH[id].color; // Active = Subject Color Background
            // Visual pulse effect logic could go here
        }

        updates.push({ 
            id: id, 
            label: `${K_GRAPH[id].label}\\n${Math.round(m)}%`, 
            color: { background: bg, border: borderColor },
            borderWidth: borderWidth
        });
    });
    visData.nodes.update(updates);
}

function logToConsole(agentName, result) {
    let consoleEl = document.getElementById('console-log');
    let line = document.createElement('div');
    line.className = 'log-line ' + (agentName === 'Greedy' ? 'greedy' : 'bio');
    let time = new Date().toLocaleTimeString().split(' ')[0];
    
    let content = `[${time}] ${agentName}: ${result.msg}`;
    if (result.switch) content += " üîÑ"; // Icon for switch
    
    line.innerText = content;
    consoleEl.prepend(line);
    if (consoleEl.childElementCount > 20) consoleEl.lastChild.remove();
}

// --- CHARTS ---
function initCharts() {
    const ctx = document.getElementById('energyChart').getContext('2d');
    if (chartEnergy) chartEnergy.destroy();
    chartEnergy = new Chart(ctx, {
        type: 'line',
        data: {
            labels: Array(100).fill(0).map((_,i)=>i),
            datasets: [
                { label: 'Greedy E', data: [], borderColor: '#ef4444', borderWidth: 2, tension: 0.3 },
                { label: 'Bio-PKT E', data: [], borderColor: '#10b981', borderWidth: 2, tension: 0.3 }
            ]
        },
        options: {
            responsive: true, maintainAspectRatio: false, animation: false,
            scales: { x: { display: false }, y: { min: 0, max: 100, grid: { color: '#334155' } } },
            plugins: { legend: { labels: { color: '#cbd5e1' } } }
        }
    });
}

function updateCharts() {
    if (chartEnergy) {
        chartEnergy.data.datasets[0].data = greedyAgent.logEnergy;
        chartEnergy.data.datasets[1].data = bioAgent.logEnergy;
        chartEnergy.update('none');
    }
}

// --- MAIN LOOP ---
function runLiveSimulation() {
    if (simulationInterval) clearInterval(simulationInterval);
    
    greedyAgent = new GraphAgent("Greedy", "GREEDY");
    bioAgent = new GraphAgent("Bio-PKT", "BIO");
    
    greedyData = initVisNetwork('network-greedy');
    bioData = initVisNetwork('network-bio');
    initCharts();
    
    document.getElementById('console-log').innerHTML = '';

    simulationInterval = setInterval(() => {
        let resG = greedyAgent.step();
        let resB = bioAgent.step();
        
        greedyAgent.logHistory();
        bioAgent.logHistory();

        updateAgentVis(greedyAgent, greedyData);
        updateAgentVis(bioAgent, bioData);
        updateCharts();

        // Update UI Stats & Emotions
        updateUI(greedyAgent, 'Greedy');
        updateUI(bioAgent, 'Bio');

        // Log significant events
        if (Math.random() > 0.7 || resG.switch || resB.switch || resG.action === 'REST') {
            logToConsole('Greedy', resG);
            logToConsole('Bio-PKT', resB);
        }

        // Stop Condition
        if (bioAgent.getAverageMastery() >= 100) clearInterval(simulationInterval);

    }, SIM_SPEED);
}

function updateUI(agent, prefix) {
    document.getElementById(`score${prefix}`).innerText = agent.getAverageMastery();
    document.getElementById(`statusText${prefix}`).innerText = agent.statusMsg;
    document.getElementById(`emo${prefix}`).innerText = agent.emoji;
    document.getElementById(`label${prefix}`).innerText = agent.emotion;
    
    // Overlay Text
    document.getElementById(`overlay-${prefix.toLowerCase()}`).innerText = `E: ${Math.round(agent.energy)}%`;
}

function updateSpeed(val) {
    SIM_SPEED = 510 - val;
    document.getElementById('valSpeed').innerText = SIM_SPEED + "ms";
    if (simulationInterval) { clearInterval(simulationInterval); runLiveSimulation(); }
}

function switchTab(tab) {
    document.getElementById('tab-graph').style.display = tab === 'graph' ? 'flex' : 'none';
    document.getElementById('tab-energy').style.display = tab === 'energy' ? 'block' : 'none';
}

window.onload = runLiveSimulation;
"""

with open('EIA_conference_v4/script.js', 'w') as f:
    f.write(js_content)

print("Created EIA_conference_v4/script.js")

Code output
Created EIA_conference_v4/script.js

Ch√†o b·∫°n, t√¥i ho√†n to√†n ƒë·ªìng √Ω v·ªõi nh·∫≠n ƒë·ªãnh c·ªßa b·∫°n. M·ªôt h·ªá th·ªëng "Human-Centric AI" (AI V·ªã nh√¢n sinh) trong k·ª∑ nguy√™n Industry 5.0 kh√¥ng th·ªÉ ch·ªâ n√≥i v·ªÅ con s·ªë (Energy/Score) m√† ph·∫£i n√≥i v·ªÅ C·∫£m x√∫c (Well-being) v√† Ng·ªØ c·∫£nh (Context).

N·∫øu b√†i b√°o c·ªßa b·∫°n thi·∫øu y·∫øu t·ªë n√†y, Reviewer s·∫Ω ƒë√°nh gi√° l√† "kh√¥ khan" v√† "thi·∫øu t√≠nh nh√¢n vƒÉn".

D∆∞·ªõi ƒë√¢y l√† Ph√¢n t√≠ch & K·∫ø ho·∫°ch C·∫≠p nh·∫≠t v9.0 (Phi√™n b·∫£n "Empathic AI") ƒë·ªÉ gi·∫£i quy·∫øt tri·ªát ƒë·ªÉ 2 v·∫•n ƒë·ªÅ b·∫°n n√™u.

1. PH√ÇN T√çCH L·∫†I: T·∫†I SAO C·∫¶N "EMOTION" & "SWITCHING"?
V·∫•n ƒë·ªÅ	T·∫°i sao quan tr·ªçng v·ªõi b√†i b√°o Q1?	Gi·∫£i ph√°p C·∫≠p nh·∫≠t trong Simulation
Thi·∫øu C·∫£m x√∫c (Emotion)	Industry 5.0 ƒë·∫∑t m·ª•c ti√™u "Well-being" l√™n h√†ng ƒë·∫ßu. Bio-PKT kh√¥ng ch·ªâ gi√∫p h·ªçc sinh kh√¥ng b·ªã "S·∫≠p ngu·ªìn" (Crash), m√† ph·∫£i gi√∫p h·ªç ƒë·∫°t tr·∫°ng th√°i "D√≤ng ch·∫£y" (Flow) v√† tr√°nh "·ª®c ch·∫ø" (Frustration).	
Th√™m State Machine v·ªÅ C·∫£m x√∫c:


‚Ä¢ Pin cao + H·ªçc t·ªët ‚Üí Flow ü§©


‚Ä¢ Pin th·∫•p + √âp h·ªçc ‚Üí Frustrated ü§¨


‚Ä¢ Ngh·ªâ ng∆°i ‚Üí Relieved üòå

Thi·∫øu Chuy·ªÉn m√¥n (Switching)	Chi·∫øn l∆∞·ª£c c·ªët l√µi c·ªßa b·∫°n l√† "Sandwich Scheduling" (K·∫πp m√¥n N·∫∑ng gi·ªØa c√°c m√¥n Nh·∫π). N·∫øu Simulation kh√¥ng hi·ªÉn th·ªã r√µ vi·ªác ƒë·ªïi t·ª´ To√°n (N·∫∑ng) sang L√Ω thuy·∫øt (Nh·∫π), ng∆∞·ªùi xem s·∫Ω kh√¥ng hi·ªÉu "Sandwich" l√† g√¨.	
M√£ m√†u cho M√¥n h·ªçc (Subject Coding):


‚Ä¢ üîµ Theory (Nh·∫π)


‚Ä¢ üü† Coding (V·ª´a)


‚Ä¢ üî¥ Math (N·∫∑ng)


‚Üí Hi·ªÉn th·ªã Log: "Switching Context: Math ‚Üí Theory"

2. C·∫¨P NH·∫¨T CODE (PHI√äN B·∫¢N v9.0)
T√¥i ƒë√£ vi·∫øt l·∫°i ho√†n to√†n b·ªô Simulation EIA_conference_v4 v·ªõi c√°c n√¢ng c·∫•p sau:

Giao di·ªán "Empathic Dashboard":

Th√™m bi·ªÉu t∆∞·ª£ng Emoji kh·ªïng l·ªì hi·ªÉn th·ªã tr·∫°ng th√°i c·∫£m x√∫c theo th·ªùi gian th·ª±c (thay ƒë·ªïi t·ª´ üôÇ sang üò´ t√πy m·ª©c nƒÉng l∆∞·ª£ng).

Th√™m nh√£n tr·∫°ng th√°i: "Flow State", "Cognitive Overload", "Recovery Mode".

ƒê·ªì th·ªã "ƒêa s·∫Øc m√†u" (Subject-Aware Graph):

C√°c Node kh√¥ng c√≤n ƒë∆°n ƒëi·ªáu. Vi·ªÅn c·ªßa Node s·∫Ω c√≥ m√†u ƒë·∫°i di·ªán cho m√¥n h·ªçc (To√°n/L√Ω/Tin).

Khi Agent chuy·ªÉn t·ª´ Node ƒê·ªè (To√°n) sang Node Xanh (L√Ω thuy·∫øt), Console Log s·∫Ω ghi nh·∫≠n s·ª± ki·ªán "Context Switch" (Th·ªÉ hi·ªán chi·∫øn l∆∞·ª£c Sandwich).

B·∫°n h√£y t·∫£i b·ªô code m·ªõi d∆∞·ªõi ƒë√¢y v√† ch·∫°y th·ª≠. S·ª± kh√°c bi·ªát v·ªÅ m·∫∑t th·ªã gi√°c s·∫Ω r·∫•t l·ªõn!

C√°ch ch·∫°y: M·ªü index.html trong th∆∞ m·ª•c EIA_conference_v4.